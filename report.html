<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>black</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
</head>
<body>
  <div style="width: 100%; max-width: 650px; margin: 0 auto; text-align: center;">
    <p>Criado em 2025-06-24 19:06:02 -0400</p>
    <h1>black</h1>
    <div id="chart-wrapper"></div>
  </div>

  <script id="jsonData" type="application/json">
    {
  "num_test_files": 10,
  "avg_test_file_lines": 444.9,
  "test_doubles": {
    "mocks": 64,
    "spies": 1,
    "fakes": 1,
    "stubs": 0,
    "dummies": 0
  },
  "test_types": {
    "unit": 11,
    "integration": 0,
    "e2e": 0,
    "unknown": 212
  },
  "total_prod_functions": 524,
  "tested_functions": 100,
  "avg_test_delay_days": 550.17,
  "test_delay_count": 6,
  "flaky_tests": {
    "time_sleep": 8,
    "random_usage": 8,
    "datetime_now": 0
  },
  "total_commits": 8,
  "total_prs": 1928,
  "test_smells": {
    "empty_tests": 202,
    "no_assert": 193,
    "unused_setup": 1
  },
  "prs_with_test_changes": 648,
  "total_issues": 4628,
  "commit_stats": [
    {
      "date": "2018",
      "code_lines": 96980,
      "test_lines": 13894,
      "test_density": 0.1433
    },
    {
      "date": "2019",
      "code_lines": 8986,
      "test_lines": 2201,
      "test_density": 0.2449
    },
    {
      "date": "2020",
      "code_lines": 25642,
      "test_lines": 6033,
      "test_density": 0.2353
    },
    {
      "date": "2021",
      "code_lines": 17019,
      "test_lines": 5370,
      "test_density": 0.3155
    },
    {
      "date": "2022",
      "code_lines": 5167,
      "test_lines": 27701,
      "test_density": 5.3611
    },
    {
      "date": "2023",
      "code_lines": 5426,
      "test_lines": 37410,
      "test_density": 6.8946
    },
    {
      "date": "2024",
      "code_lines": 3670,
      "test_lines": 6181,
      "test_density": 1.6842
    },
    {
      "date": "2025",
      "code_lines": 1814,
      "test_lines": 1843,
      "test_density": 1.016
    }
  ],
  "pr_stats": [
    {
      "date": "2018",
      "code_lines": 3155,
      "test_lines": 2105,
      "test_density": 0.6672
    },
    {
      "date": "2019",
      "code_lines": 9152,
      "test_lines": 2368,
      "test_density": 0.2587
    },
    {
      "date": "2020",
      "code_lines": 6728,
      "test_lines": 6610,
      "test_density": 0.9825
    },
    {
      "date": "2021",
      "code_lines": 18745,
      "test_lines": 5969,
      "test_density": 0.3184
    },
    {
      "date": "2022",
      "code_lines": 7595,
      "test_lines": 7962,
      "test_density": 1.0483
    },
    {
      "date": "2023",
      "code_lines": 9804,
      "test_lines": 10212,
      "test_density": 1.0416
    },
    {
      "date": "2024",
      "code_lines": 4523,
      "test_lines": 4063,
      "test_density": 0.8983
    },
    {
      "date": "2025",
      "code_lines": 9589,
      "test_lines": 1492,
      "test_density": 0.1556
    }
  ],
  "file_stats": [
    {
      "date": "2018",
      "prod_files": 23,
      "test_files": 34
    },
    {
      "date": "2019",
      "prod_files": 23,
      "test_files": 49
    },
    {
      "date": "2020",
      "prod_files": 28,
      "test_files": 69
    },
    {
      "date": "2021",
      "prod_files": 53,
      "test_files": 103
    },
    {
      "date": "2022",
      "prod_files": 52,
      "test_files": 139
    },
    {
      "date": "2023",
      "prod_files": 57,
      "test_files": 198
    },
    {
      "date": "2024",
      "prod_files": 60,
      "test_files": 229
    },
    {
      "date": "2025",
      "prod_files": 60,
      "test_files": 234
    }
  ],
  "charts": [
    {
      "title": "Evolução de Commits (LOC)",
      "type": "line",
      "indexAxis": "x",
      "display_legend": true,
      "labels": [
        "2018",
        "2019",
        "2020",
        "2021",
        "2022",
        "2023",
        "2024",
        "2025"
      ],
      "datasets": [
        {
          "label": "Código",
          "data": [
            96980,
            8986,
            25642,
            17019,
            5167,
            5426,
            3670,
            1814
          ]
        },
        {
          "label": "Testes",
          "data": [
            13894,
            2201,
            6033,
            5370,
            27701,
            37410,
            6181,
            1843
          ]
        }
      ]
    },
    {
      "title": "Evolução de PRs (LOC)",
      "type": "line",
      "indexAxis": "x",
      "display_legend": true,
      "labels": [
        "2018",
        "2019",
        "2020",
        "2021",
        "2022",
        "2023",
        "2024",
        "2025"
      ],
      "datasets": [
        {
          "label": "Código",
          "data": [
            3155,
            9152,
            6728,
            18745,
            7595,
            9804,
            4523,
            9589
          ]
        },
        {
          "label": "Testes",
          "data": [
            2105,
            2368,
            6610,
            5969,
            7962,
            10212,
            4063,
            1492
          ]
        }
      ]
    },
    {
      "title": "Evolução de Arquivos (Produção vs Testes)",
      "type": "line",
      "indexAxis": "x",
      "display_legend": true,
      "labels": [
        "2018",
        "2019",
        "2020",
        "2021",
        "2022",
        "2023",
        "2024",
        "2025"
      ],
      "datasets": [
        {
          "label": "Produção",
          "data": [
            23,
            23,
            28,
            53,
            52,
            57,
            60,
            60
          ]
        },
        {
          "label": "Testes",
          "data": [
            34,
            49,
            69,
            103,
            139,
            198,
            229,
            234
          ]
        }
      ]
    },
    {
      "title": "Densidade de Teste por Commit",
      "type": "line",
      "labels": [
        "2018",
        "2019",
        "2020",
        "2021",
        "2022",
        "2023",
        "2024",
        "2025"
      ],
      "datasets": [
        {
          "label": "Densidade de Teste",
          "data": [
            0.1433,
            0.2449,
            0.2353,
            0.3155,
            5.3611,
            6.8946,
            1.6842,
            1.016
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Densidade de Teste por PR",
      "type": "line",
      "labels": [
        "2018",
        "2019",
        "2020",
        "2021",
        "2022",
        "2023",
        "2024",
        "2025"
      ],
      "datasets": [
        {
          "label": "Densidade de Teste",
          "data": [
            0.6672,
            0.2587,
            0.9825,
            0.3184,
            1.0483,
            1.0416,
            0.8983,
            0.1556
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Smells de Teste (AST)",
      "type": "bar",
      "labels": [
        "Testes vazios",
        "Testes sem assert",
        "Setup/TearDown não usado"
      ],
      "datasets": [
        {
          "label": "Quantidade de ocorrências",
          "data": [
            202,
            193,
            1
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Distribuição de Tipos de Testes",
      "type": "bar",
      "labels": [
        "unit",
        "integration",
        "e2e",
        "unknown"
      ],
      "datasets": [
        {
          "label": "Arquivos de teste",
          "data": [
            11,
            0,
            0,
            212
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Funções Produção Testadas vs Não Testadas",
      "type": "bar",
      "labels": [
        "Testadas",
        "Não testadas"
      ],
      "datasets": [
        {
          "label": "Quantidade de funções",
          "data": [
            100,
            424
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Tempo Médio até o Primeiro Teste (dias)",
      "type": "bar",
      "labels": [
        "Média delay"
      ],
      "datasets": [
        {
          "label": "Dias",
          "data": [
            550.17
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Testes Flaky Detectados",
      "type": "bar",
      "labels": [
        "Chamadas a time.sleep()",
        "Uso de random",
        "Uso de datetime.now()"
      ],
      "datasets": [
        {
          "label": "Número de ocorrências",
          "data": [
            8,
            8,
            0
          ],
          "fill": false
        }
      ]
    },
    {
      "title": "Uso de Test Doubles",
      "type": "bar",
      "labels": [
        "Mocks",
        "Stubs",
        "Fakes",
        "Spies",
        "Dummies"
      ],
      "datasets": [
        {
          "label": "Ocorrências",
          "data": [
            64,
            0,
            1,
            1,
            0
          ],
          "fill": false
        }
      ]
    }
  ]
}
  </script>

  <script>
    const data = JSON.parse(
      document.getElementById('jsonData').textContent
    );
    const charts = data.charts || [];
    const wrapper = document.getElementById('chart-wrapper');

    charts.forEach((cfg, i) => {
      const h2 = document.createElement('h2');
      h2.textContent = cfg.title;
      wrapper.appendChild(h2);

      const canvas = document.createElement('canvas');
      canvas.id = 'chart-' + i;
      wrapper.appendChild(canvas);

      new Chart(canvas, {
        type: cfg.type,
        data: {
          labels: cfg.labels,
          datasets: cfg.datasets
        },
        options: {
          indexAxis: cfg.indexAxis,
          plugins: {
            legend: { display: cfg.display_legend },
            title:  { display: true, text: cfg.title }
          },
          scales: { y: { beginAtZero: true } }
        }
      });
    });
  </script>
</body>
</html>
